<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="assets/css/reset.css">
    <link rel="stylesheet" href="assets/css/style.css">
    <title>Document</title>
</head>

<body>
    <main>
        <section class="titleSection">
            <h1 class="title">Gerador de Senha</h1>
            <p class="subtitle">Utilize o nosso Gerador de Senha online para criar uma senha forte e segura.</p>
        </section>

        <section class="inputSection">
            <div class="password">
                <div class="text">
                    <input type="text" name="input-password" id="input-password">
                </div>
                <div class="actions">
                    <button id="img-copy">
                        <img src="./assets/img/copy.svg" width="42px" alt="copy img">
                    </button>
                    <button id="reload">
                        <img src="./assets/img/reload.svg" width="42px" alt="reload img">
                    </button>
                </div>
            </div>
        </section>

        <input type="range" name="input-password-length" id="input-password-length" value="16" min="4" max="67">

        <button id="button-copy">Copiar Senha</button>
    </main>

    <script>
        // DEFINE O TAMANHO PADRÃO DA SENHA
        let passwordLength = 16

        // GERA A SENHA
        function generatePassword() {
            var chars = "ABCDEFGHJKMNPQRSTUVWXYZ123456789abcdefghjkmnpqrstuvwxyz!@#$%^&*()[]"

            let password = ""

            for (let i = 0; i < passwordLength; i++) {
                const randomNum = Math.floor(Math.random() * chars.length)
                password += chars.substring(randomNum, randomNum + 1)
            }

            inputPasswordEl.value = password
        }

        // ALTERA O TAMANHO DA SENHA
        function changePassword() {
            passwordLength = inputPasswordLengthEl.value
            generatePassword()
        }

        // COPIA A SENHA PARA A ÁREA DE TRANSFERÊNCIA
        function copyPassword() {
            navigator.clipboard.writeText(inputPasswordEl.value)
        }

        // RECUPERA OS ELEMENTOS DO DOM E ADICIONA EVENTOS
        const inputPasswordEl = document.querySelector("#input-password")

        const inputPasswordLengthEl = document.querySelector("#input-password-length")
        inputPasswordLengthEl.addEventListener("input", changePassword)

        document.querySelector("#button-copy").addEventListener("click", copyPassword)
        document.querySelector("#img-copy").addEventListener("click", copyPassword)

        // CHAMA A FUNÇÃO 
        generatePassword()
    </script>

</body>

</html>